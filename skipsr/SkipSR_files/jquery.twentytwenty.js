!function(t){t.fn.twentytwenty=function(e){e=t.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1,ratio:.5},e);return this.each(function(){var n=t(this),a=e.orientation,i="vertical"===a?"down":"left",o="vertical"===a?"up":"right",s=t(n).attr("default_offset_pct"),r=s||e.default_offset_pct,c=t(n).attr("ratio"),d=c||e.ratio;if(n.wrap("<div class='twentytwenty-wrapper twentytwenty-"+a+"'></div>"),!e.no_overlay){n.append("<div class='twentytwenty-overlay'></div>");var l=n.find(".twentytwenty-overlay");l.append("<div class='twentytwenty-before-label' data-content='"+e.before_label+"'></div>"),l.append("<div class='twentytwenty-after-label' data-content='"+e.after_label+"'></div>")}var f=n.find(".video:first"),v=n.find(".video:last");n.append("<div class='twentytwenty-handle'></div>");var w=n.find(".twentytwenty-handle");w.append("<span class='twentytwenty-"+i+"-arrow'></span>"),w.append("<span class='twentytwenty-"+o+"-arrow'></span>"),n.addClass("twentytwenty-container"),f.addClass("twentytwenty-before"),v.addClass("twentytwenty-after");var p=function(e){var a=t(n).width(),i=a*d;return{w:a+"px",h:i+"px",cw:e*a+"px",ch:e*i+"px"}},y=function(t){"vertical"===a?(f.css("clip","rect(0,"+t.w+","+t.ch+",0)"),v.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(f.css("clip","rect(0,"+t.cw+","+t.h+",0)"),v.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),n.css("height",t.h)},h=function(t){var e=p(t);w.css("vertical"===a?"top":"left","vertical"===a?e.ch:e.cw),y(e)},u=function(t,e,n){return Math.max(e,Math.min(n,t))},_=function(t,e){return u("vertical"===a?(e-b)/X:(t-m)/g,0,1)};t(window).on("resize.twentytwenty",function(){h(r)});var m=0,b=0,g=0,X=0,Y=function(t){(t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==a?t.preventDefault():(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===a&&t.preventDefault(),n.addClass("active"),m=n.offset().left,b=n.offset().top,g=f.width(),X=f.height()},x=function(t){n.hasClass("active")&&(r=_(t.pageX,t.pageY),h(r))},C=function(){n.removeClass("active")},D=e.move_with_handle_only?w:n;D.on("movestart",Y),D.on("move",x),D.on("moveend",C),e.move_slider_on_hover&&(n.on("mouseenter",Y),n.on("mousemove",x),n.on("mouseleave",C)),w.on("touchmove",function(t){t.preventDefault()}),n.find("video").on("mousedown",function(t){t.preventDefault()}),e.click_to_move&&n.on("click",function(t){m=n.offset().left,b=n.offset().top,g=f.width(),X=f.height(),r=_(t.pageX,t.pageY),h(r)}),t(window).trigger("resize.twentytwenty")})}}(jQuery);