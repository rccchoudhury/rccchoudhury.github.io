!function(){function t(){var t=document.body||{},n=document.documentElement||{};return Math.max(t.scrollHeight||0,t.offsetHeight||0,t.clientHeight||0,n.scrollHeight||0,n.offsetHeight||0,n.clientHeight||0)}function n(){var t=document.body||{},n=document.documentElement||{},e=window.innerHeight||n.clientHeight||0,i=window.scrollY||n.scrollTop||t.scrollTop||0;return r<=e?r:i+e}function e(){try{return window&&window.location&&window.location.href||document&&document.location&&document.location.href||document&&document.URL||""}catch(t){return""}}function i(t,n){window.fetch&&fetch(l.endpoint,{method:"POST",headers:{"Content-Type":"text/plain"},keepalive:!0,body:JSON.stringify(t)}).then(function(t){n&&"function"==typeof n.callback&&n.callback({status:t.status})})["catch"](function(t){n&&"function"==typeof n.callback&&n.callback({error:t})})}function o(o,a){"pageview"===o&&(r=t(),n()),i({n:o,u:e(),i:l.id,r:c.referrer||null},a)}const c=document,a=(window.location,c.currentScript);const l={endpoint:a.getAttribute("data-api")||new URL(a.src).origin+"/api/event",id:parseInt(a.getAttribute("data-id")),logging:!0};var r=t();n();let d="";window.addEventListener("load",function(){r=t();var n=0,e=setInterval(function(){r=t(),10==++n&&(clearInterval(e),console.log("height: ",r))},300)});const u=function(){const t=window.location.pathname;t&&t!==d&&(d=t,o("pageview"))};"hidden"===c.visibilityState||"prerender"===c.visibilityState?c.addEventListener("visibilitychange",function(){console.log("visibility changed"),d||"visible"!==c.visibilityState||u()}):u(),window.addEventListener("pageshow",function(t){t.persisted&&u()})}();